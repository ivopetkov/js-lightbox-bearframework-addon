/*
 * JS lightbox for Bear Framework
 * https://github.com/ivopetkov/js-lightbox-bearframework-addon
 * Copyright (c) 2016 Ivo Petkov
 * Free to use under the MIT license.
 */
var ivoPetkov=ivoPetkov||{};ivoPetkov.bearFramework=ivoPetkov.bearFramework||{};ivoPetkov.bearFramework.addons=ivoPetkov.bearFramework.addons||{};
ivoPetkov.bearFramework.addons.jsLightbox=function(){var q=0;return function(f,b){q++;var l="jslightbox"+q,e=this;e.imageSizes=[];"undefined"===typeof b&&(b=[]);var r={spacing:"1rem",containerClassName:"",containerStyle:"background-color:rgba(0,0,0,0.8);",nextButtonHtml:'<span style="display:block;width:42px;height:42px;position:fixed;right:0;top:calc((100% - 42px)/2);cursor:pointer;background-size:contain;background-position:center center;background-repeat:no-repeat;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0OCIgaGVpZ2h0PSI3Ni44IiB2aWV3Qm94PSIwIDAgNDggNzYuNzk5OTk1Ij48ZGVmcz48ZmlsdGVyIGlkPSJhIiBjb2xvci1pbnRlcnBvbGF0aW9uLWZpbHRlcnM9InNSR0IiPjxmZUZsb29kIGZsb29kLW9wYWNpdHk9Ii45IiBmbG9vZC1jb2xvcj0iIzAwMCIgcmVzdWx0PSJmbG9vZCIvPjxmZUNvbXBvc2l0ZSBpbjI9IlNvdXJjZUdyYXBoaWMiIGluPSJmbG9vZCIgb3BlcmF0b3I9ImluIiByZXN1bHQ9ImNvbXBvc2l0ZTEiLz48ZmVHYXVzc2lhbkJsdXIgc3RkRGV2aWF0aW9uPSIyIiByZXN1bHQ9ImJsdXIiLz48ZmVPZmZzZXQgcmVzdWx0PSJvZmZzZXQiLz48ZmVDb21wb3NpdGUgaW4yPSJvZmZzZXQiIGluPSJTb3VyY2VHcmFwaGljIiByZXN1bHQ9ImNvbXBvc2l0ZTIiLz48L2ZpbHRlcj48L2RlZnM+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTTEyIDYuNGwtOCA4IDI0IDI0LTI0IDI0IDggOCAzMi0zMi0zMi0zMnoiIGZpbHRlcj0idXJsKCNhKSIvPjwvc3ZnPg==);"></span>',previousButtonHtml:'<span style="display:block;width:42px;height:42px;position:fixed;left:0;top:calc((100% - 42px)/2);cursor:pointer;background-size:contain;background-position:center center;background-repeat:no-repeat;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0OCIgaGVpZ2h0PSI3Ni44IiB2aWV3Qm94PSIwIDAgNDggNzYuNzk5OTk1Ij48ZGVmcz48ZmlsdGVyIGlkPSJhIiBjb2xvci1pbnRlcnBvbGF0aW9uLWZpbHRlcnM9InNSR0IiPjxmZUZsb29kIGZsb29kLW9wYWNpdHk9Ii45IiBmbG9vZC1jb2xvcj0iIzAwMCIgcmVzdWx0PSJmbG9vZCIvPjxmZUNvbXBvc2l0ZSBpbjI9IlNvdXJjZUdyYXBoaWMiIGluPSJmbG9vZCIgb3BlcmF0b3I9ImluIiByZXN1bHQ9ImNvbXBvc2l0ZTEiLz48ZmVHYXVzc2lhbkJsdXIgc3RkRGV2aWF0aW9uPSIyIiByZXN1bHQ9ImJsdXIiLz48ZmVPZmZzZXQgcmVzdWx0PSJvZmZzZXQiLz48ZmVDb21wb3NpdGUgaW4yPSJvZmZzZXQiIGluPSJTb3VyY2VHcmFwaGljIiByZXN1bHQ9ImNvbXBvc2l0ZTIiLz48L2ZpbHRlcj48L2RlZnM+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTTEyIDYuNGwtOCA4IDI0IDI0LTI0IDI0IDggOCAzMi0zMi0zMi0zMnoiIHRyYW5zZm9ybT0ibWF0cml4KC0xIDAgMCAxIDQ4IDApIiBmaWx0ZXI9InVybCgjYSkiLz48L3N2Zz4=);"></span>',
closeButtonHtml:'<span style="display:block;width:42px;height:42px;position:fixed;right:0;top:0;cursor:pointer;background-size:50%;background-position:center center;background-repeat:no-repeat;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMi4yMjIiIGhlaWdodD0iMzIuMjI0IiB2aWV3Qm94PSIwIDAgMzIuMjIxNzc1IDMyLjIyMzcxNyI+PGRlZnM+PGZpbHRlciBpZD0iYSIgY29sb3ItaW50ZXJwb2xhdGlvbi1maWx0ZXJzPSJzUkdCIj48ZmVGbG9vZCBmbG9vZC1vcGFjaXR5PSIuOSIgZmxvb2QtY29sb3I9IiMwMDAiIHJlc3VsdD0iZmxvb2QiLz48ZmVDb21wb3NpdGUgaW4yPSJTb3VyY2VHcmFwaGljIiBpbj0iZmxvb2QiIG9wZXJhdG9yPSJpbiIgcmVzdWx0PSJjb21wb3NpdGUxIi8+PGZlR2F1c3NpYW5CbHVyIHN0ZERldmlhdGlvbj0iMiIgcmVzdWx0PSJibHVyIi8+PGZlT2Zmc2V0IHJlc3VsdD0ib2Zmc2V0Ii8+PGZlQ29tcG9zaXRlIGluMj0ib2Zmc2V0IiBpbj0iU291cmNlR3JhcGhpYyIgcmVzdWx0PSJjb21wb3NpdGUyIi8+PC9maWx0ZXI+PC9kZWZzPjxnIGZpbGw9IiNmZmYiIHRyYW5zZm9ybT0ibWF0cml4KC40NjEgMCAwIC40NjEgLTQuODEgMS40ODUpIiBmaWx0ZXI9InVybCgjYSkiPjxwYXRoIGQ9Ik0yMS40LS4yN2wtOCA4IDIzLjk4IDI0LTI0IDI0IDggOCAzMi0zMi0zMi0zMnoiLz48cGF0aCBkPSJNNjkuMzgtLjI3bDggOC0yNCAyNCAyNCAyNC04IDgtMzItMzIgMzItMzJ6Ii8+PC9nPjwvc3ZnPg==);"></span>'},
n;for(n in r)"undefined"===typeof b[n]&&(b[n]=r[n]);2>f.length&&(b.previousButtonHtml="",b.nextButtonHtml="");var t=function(a){27===a.keyCode&&e.close()},p=function(){for(var a=document.querySelector(".swiper-container-"+l).firstChild.childNodes,b=a.length,d=0;d<b;d++){var h=a[d],k=window.getComputedStyle(h.firstChild),f=parseInt(k.width.replace("px",""),10),k=parseInt(k.height.replace("px",""),10),g=e.imageSizes[d],m=g[0],g=g[1];m>f&&(g*=f/m,m=f);g>k&&(m*=k/g,g=k);h.firstChild.firstChild.style.maxWidth=
m+"px";h.firstChild.firstChild.style.marginTop=(k-g)/2+"px"}},u=function(a){a=f[a];"undefined"!==typeof a.onBeforeShow&&0<a.onBeforeShow.length&&(new Function(a.onBeforeShow))()},v=function(a){a=f[a];"undefined"!==typeof a.onShow&&0<a.onShow.length&&(new Function(a.onShow))()};this.open=function(a){var c='<div id="'+l+'" class="'+b.containerClassName+'" style="position:fixed;z-index:10000;top:0;left:0;width:100%;height:100%;'+b.containerStyle+'">',c=c+('<div class="swiper-container-'+l+'" style="width:100%;height:100%;">'),
c=c+'<div class="swiper-wrapper">',d;for(d in f){var h=f[d];e.imageSizes.push([h.width,h.height]);c+='<div class="swiper-slide" style="padding:'+b.spacing+';box-sizing:border-box;">';c+='<div style="width:100%;height:100%;overflow:hidden;"><div style="margin:0 auto;overflow:hidden;">'+h.html+"</div></div>";c+="</div>"}c+='</div></div><div style="z-index:10001;position:fixed;top:0;left:0;">';0<b.nextButtonHtml.length&&(c+=b.nextButtonHtml);0<b.previousButtonHtml.length&&(c+=b.previousButtonHtml);0<
b.closeButtonHtml.length&&(c+=b.closeButtonHtml);document.body.insertAdjacentHTML("beforeend",c+"</div></div>");c=document.querySelector("#"+l);e.swiperObject=new Swiper(".swiper-container-"+l,{direction:"horizontal",loop:!1,keyboardControl:!0,mousewheelControl:!0});e.swiperObject.on("slideChangeStart",function(a){u(a.activeIndex)});e.swiperObject.on("slideChangeEnd",function(a){v(a.activeIndex)});window.addEventListener("resize",p);p();"undefined"!==typeof a&&0!==a?e.swiperObject.slideTo(a,0):(u(0),
v(0));a=-1;0<b.nextButtonHtml.length&&(a++,d=c.childNodes[1].childNodes[a],d.addEventListener("click",e.swiperObject.slideNext));0<b.previousButtonHtml.length&&(a++,d=c.childNodes[1].childNodes[a],d.addEventListener("click",e.swiperObject.slidePrev));0<b.closeButtonHtml.length&&(a++,d=c.childNodes[1].childNodes[a],d.addEventListener("click",e.close));document.body.addEventListener("keydown",t)};this.close=function(){document.body.removeEventListener("keydown",t);window.removeEventListener("resize",
p);document.querySelector("#"+l).remove()}}}();