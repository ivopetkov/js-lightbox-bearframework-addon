/*
 * JS lightbox for Bear Framework
 * https://github.com/ivopetkov/js-lightbox-bearframework-addon
 * Copyright (c) Ivo Petkov
 * Free to use under the MIT license.
 */
var ivoPetkov=ivoPetkov||{};ivoPetkov.bearFrameworkAddons=ivoPetkov.bearFrameworkAddons||{};
ivoPetkov.bearFrameworkAddons.jsLightbox=ivoPetkov.bearFrameworkAddons.jsLightbox||function(){var b=null,d=null,e=null,g=null,m=function(){null!==g&&window.clearTimeout(g);var a=document.querySelector(".ipjslghtbcl");null!==a&&a.setAttribute("class","ipjslghtbcl")},n=function(a){"undefined"===typeof a&&(a={});a="undefined"!==typeof a.spacing?a.spacing:"15px";null!==d&&(window.clearTimeout(d),d=null);null===b?(b=document.createElement("div"),b.setAttribute("class","ipjslghtbc"),b.innerHTML='<div><div></div></div><a class="ipjslghtbx"><span>&#10010;</span></a>',
b.lastChild.addEventListener("click",f),document.body.appendChild(b),document.body.addEventListener("keydown",k),e=window.setTimeout(function(){b.setAttribute("class","ipjslghtbc ipjslghtbcv");e=null},16)):b.setAttribute("class","ipjslghtbc ipjslghtbcv");b.firstChild.firstChild.style.padding=a},p=function(){null===d&&(null!==e&&(window.clearTimeout(e),e=null),m(),null!==b&&b.setAttribute("class","ipjslghtbc"),null!==b&&(d=window.setTimeout(function(){try{document.body.removeEventListener("keydown",
k)}catch(a){}b.parentNode.removeChild(b);d=b=null},300)))},h=function(a,q){c++;n(q);return new Promise(function(r,c){'<span class="ipjslghtbcl">&#8228;</span>'===a?b.firstChild.firstChild.innerHTML=a:clientShortcuts.get("-ivopetkov-js-lightbox-html5domdocument").then(function(c){null!==b&&(c.insert(a,[b.firstChild.firstChild]),r())})["catch"](function(){c()})})},f=function(){c++;p()},c=0,l=function(a,b){c++;h('<span class="ipjslghtbcl">&#8228;</span>',b);g=window.setTimeout(function(){var a=document.querySelector(".ipjslghtbcl");
null!==a&&a.setAttribute("class","ipjslghtbcl ipjslghtbclv")},1E3);"undefined"!==typeof a&&a(function(a){return{wait:function(b,d){a===c&&l(b,d)},open:function(b,d){return a===c?h(b,d):new Promise(function(a,b){b()})},close:function(){a===c&&f()},isAlive:function(){return a===c}}}(c))},k=function(a){27===a.keyCode&&f()};Promise=window.Promise||function(a){var b=[],c=null;this.then=function(a){b.push(a);return this};this["catch"]=function(a){null===c&&(c=a);return this};var d=function(){for(var a in b)b[a].apply(null,
arguments)},e=function(){null!==c&&c.apply(null,arguments)};window.setTimeout(function(){a(d,e)},16)};return{wait:l,open:h,close:f}}();