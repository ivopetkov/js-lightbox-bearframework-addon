/*
 * JS lightbox for Bear Framework
 * https://github.com/ivopetkov/js-lightbox-bearframework-addon
 * Copyright (c) 2016 Ivo Petkov
 * Free to use under the MIT license.
 */
var ivoPetkov=ivoPetkov||{};ivoPetkov.bearFrameworkAddons=ivoPetkov.bearFrameworkAddons||{};
"undefined"===typeof ivoPetkov.bearFrameworkAddons.jsLightbox&&(ivoPetkov.bearFrameworkAddons.jsLightboxGlobalData={jsLightboxCssUrl:null,swiperJsUrl:null,swiperCssUrl:null},ivoPetkov.bearFrameworkAddons.jsLightbox=function(){var p=0,h=0,v=function(){if(0===h){h++;if(null!==ivoPetkov.bearFrameworkAddons.jsLightboxGlobalData.jsLightboxCssUrl){var a=document.createElement("link");a.rel="stylesheet";a.href=ivoPetkov.bearFrameworkAddons.jsLightboxGlobalData.jsLightboxCssUrl;a.onload=function(){h++};document.head.appendChild(a)}null!==
ivoPetkov.bearFrameworkAddons.jsLightboxGlobalData.swiperJsUrl&&(a=document.createElement("script"),a.src=ivoPetkov.bearFrameworkAddons.jsLightboxGlobalData.swiperJsUrl,a.onload=function(){h++},document.head.appendChild(a));null!==ivoPetkov.bearFrameworkAddons.jsLightboxGlobalData.swiperCssUrl&&(a=document.createElement("link"),a.rel="stylesheet",a.href=ivoPetkov.bearFrameworkAddons.jsLightboxGlobalData.swiperCssUrl,a.onload=function(){h++},document.head.appendChild(a))}};return function(a){p++;var k=
"jslightbox"+p,g=this;a="undefined"===typeof a?{}:JSON.parse(JSON.stringify(a));"undefined"===typeof a.images&&(a.images=[]);"undefined"===typeof a.options&&(a.options={});var q={paddingTop:"1rem",paddingRight:"1rem",paddingBottom:"1rem",paddingLeft:"1rem",containerClassName:"",containerStyle:"background-color:rgba(0,0,0,0.8);",nextButtonHtml:'<span style="display:block;width:42px;height:42px;position:fixed;right:0;top:calc((100% - 42px)/2);cursor:pointer;background-size:contain;background-position:center center;background-repeat:no-repeat;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0OCIgaGVpZ2h0PSI3Ni44IiB2aWV3Qm94PSIwIDAgNDggNzYuNzk5OTk1Ij48ZGVmcz48ZmlsdGVyIGlkPSJhIiBjb2xvci1pbnRlcnBvbGF0aW9uLWZpbHRlcnM9InNSR0IiPjxmZUZsb29kIGZsb29kLW9wYWNpdHk9Ii45IiBmbG9vZC1jb2xvcj0iIzAwMCIgcmVzdWx0PSJmbG9vZCIvPjxmZUNvbXBvc2l0ZSBpbjI9IlNvdXJjZUdyYXBoaWMiIGluPSJmbG9vZCIgb3BlcmF0b3I9ImluIiByZXN1bHQ9ImNvbXBvc2l0ZTEiLz48ZmVHYXVzc2lhbkJsdXIgc3RkRGV2aWF0aW9uPSIyIiByZXN1bHQ9ImJsdXIiLz48ZmVPZmZzZXQgcmVzdWx0PSJvZmZzZXQiLz48ZmVDb21wb3NpdGUgaW4yPSJvZmZzZXQiIGluPSJTb3VyY2VHcmFwaGljIiByZXN1bHQ9ImNvbXBvc2l0ZTIiLz48L2ZpbHRlcj48L2RlZnM+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTTEyIDYuNGwtOCA4IDI0IDI0LTI0IDI0IDggOCAzMi0zMi0zMi0zMnoiIGZpbHRlcj0idXJsKCNhKSIvPjwvc3ZnPg==);"></span>',
previousButtonHtml:'<span style="display:block;width:42px;height:42px;position:fixed;left:0;top:calc((100% - 42px)/2);cursor:pointer;background-size:contain;background-position:center center;background-repeat:no-repeat;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0OCIgaGVpZ2h0PSI3Ni44IiB2aWV3Qm94PSIwIDAgNDggNzYuNzk5OTk1Ij48ZGVmcz48ZmlsdGVyIGlkPSJhIiBjb2xvci1pbnRlcnBvbGF0aW9uLWZpbHRlcnM9InNSR0IiPjxmZUZsb29kIGZsb29kLW9wYWNpdHk9Ii45IiBmbG9vZC1jb2xvcj0iIzAwMCIgcmVzdWx0PSJmbG9vZCIvPjxmZUNvbXBvc2l0ZSBpbjI9IlNvdXJjZUdyYXBoaWMiIGluPSJmbG9vZCIgb3BlcmF0b3I9ImluIiByZXN1bHQ9ImNvbXBvc2l0ZTEiLz48ZmVHYXVzc2lhbkJsdXIgc3RkRGV2aWF0aW9uPSIyIiByZXN1bHQ9ImJsdXIiLz48ZmVPZmZzZXQgcmVzdWx0PSJvZmZzZXQiLz48ZmVDb21wb3NpdGUgaW4yPSJvZmZzZXQiIGluPSJTb3VyY2VHcmFwaGljIiByZXN1bHQ9ImNvbXBvc2l0ZTIiLz48L2ZpbHRlcj48L2RlZnM+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTTEyIDYuNGwtOCA4IDI0IDI0LTI0IDI0IDggOCAzMi0zMi0zMi0zMnoiIHRyYW5zZm9ybT0ibWF0cml4KC0xIDAgMCAxIDQ4IDApIiBmaWx0ZXI9InVybCgjYSkiLz48L3N2Zz4=);"></span>',
closeButtonHtml:'<span style="display:block;width:42px;height:42px;position:fixed;right:0;top:0;cursor:pointer;background-size:50%;background-position:center center;background-repeat:no-repeat;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMi4yMjIiIGhlaWdodD0iMzIuMjI0IiB2aWV3Qm94PSIwIDAgMzIuMjIxNzc1IDMyLjIyMzcxNyI+PGRlZnM+PGZpbHRlciBpZD0iYSIgY29sb3ItaW50ZXJwb2xhdGlvbi1maWx0ZXJzPSJzUkdCIj48ZmVGbG9vZCBmbG9vZC1vcGFjaXR5PSIuOSIgZmxvb2QtY29sb3I9IiMwMDAiIHJlc3VsdD0iZmxvb2QiLz48ZmVDb21wb3NpdGUgaW4yPSJTb3VyY2VHcmFwaGljIiBpbj0iZmxvb2QiIG9wZXJhdG9yPSJpbiIgcmVzdWx0PSJjb21wb3NpdGUxIi8+PGZlR2F1c3NpYW5CbHVyIHN0ZERldmlhdGlvbj0iMiIgcmVzdWx0PSJibHVyIi8+PGZlT2Zmc2V0IHJlc3VsdD0ib2Zmc2V0Ii8+PGZlQ29tcG9zaXRlIGluMj0ib2Zmc2V0IiBpbj0iU291cmNlR3JhcGhpYyIgcmVzdWx0PSJjb21wb3NpdGUyIi8+PC9maWx0ZXI+PC9kZWZzPjxnIGZpbGw9IiNmZmYiIHRyYW5zZm9ybT0ibWF0cml4KC40NjEgMCAwIC40NjEgLTQuODEgMS40ODUpIiBmaWx0ZXI9InVybCgjYSkiPjxwYXRoIGQ9Ik0yMS40LS4yN2wtOCA4IDIzLjk4IDI0LTI0IDI0IDggOCAzMi0zMi0zMi0zMnoiLz48cGF0aCBkPSJNNjkuMzgtLjI3bDggOC0yNCAyNCAyNCAyNC04IDgtMzItMzIgMzItMzJ6Ii8+PC9nPjwvc3ZnPg==);"></span>'},
l;for(l in q)"undefined"===typeof a.options[l]&&(a.options[l]=q[l]);2>a.images.length&&(a.options.previousButtonHtml="",a.options.nextButtonHtml="");var r=function(a){27===a.keyCode&&g.close()},n=function(){var a=document.querySelector(".swiper-container-"+k);if(a)for(var a=a.firstChild.childNodes,b=a.length,d=0;d<b;d++){var f=a[d],m=window.getComputedStyle(f.firstChild),e=parseInt(m.width.replace("px",""),10),m=parseInt(m.height.replace("px",""),10);f.firstChild.firstChild.style.width=e+"px";f.firstChild.firstChild.style.height=
m+"px"}},t=function(c){var b=a.images[c];"undefined"!==typeof b.onBeforeShow&&0<b.onBeforeShow.length&&(new Function(b.onBeforeShow))();for(var b=document.querySelector("#"+k),b=b.childNodes[b.childNodes.length-1].childNodes,d=0;d<b.length;d++)"previous"===b[d].jsLightboxType?b[d].style.display=0===c?"none":"block":"next"===b[d].jsLightboxType&&(b[d].style.display=c===a.images.length-1?"none":"block")},u=function(c){c=a.images[c];"undefined"!==typeof c.onShow&&0<c.onShow.length&&(new Function(c.onShow))()};
this.open=function(c){var b='<div id="'+k+'" class="'+("js-lightbox-container "+a.options.containerClassName).trim()+'" style="position:fixed;z-index:10010000;top:0;left:0;width:100%;height:100%;'+a.options.containerStyle+'">',b=b+('<div class="swiper-container-'+k+'" style="width:100%;height:100%;">'),b=b+'<div class="swiper-wrapper">';for(f in a.images)b+='<div class="swiper-slide" style="padding-top:'+a.options.paddingTop+";padding-right:"+a.options.paddingRight+";padding-bottom:"+a.options.paddingBottom+
";padding-left:"+a.options.paddingLeft+';box-sizing:border-box;">',b+='<div style="width:100%;height:100%;overflow:hidden;"><div style="overflow:hidden;display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-align:center;-webkit-align-items:center;-webkit-box-align:center;align-items:center;-moz-justify-content:center;-webkit-justify-content:center;justify-content:center;"></div></div>',b+="</div>";b+='</div></div><div style="z-index:10010001;position:fixed;top:0;left:0;">';0<a.options.nextButtonHtml.length&&
(b+=a.options.nextButtonHtml);0<a.options.previousButtonHtml.length&&(b+=a.options.previousButtonHtml);0<a.options.closeButtonHtml.length&&(b+=a.options.closeButtonHtml);document.body.insertAdjacentHTML("beforeend",b+"</div></div>");document.body.addEventListener("keydown",r);window.addEventListener("resize",n);n();var d=document.querySelector("#"+k),b=0;for(f in a.images)d.firstChild.firstChild.childNodes[b].firstChild.firstChild.innerHTML=a.images[f].html,b++;var f=function(){g.swiperObject=new Swiper(".swiper-container-"+
k,{direction:"horizontal",loop:!1,keyboardControl:!0,mousewheelControl:!0});g.swiperObject.on("slideChangeStart",function(a){t(a.activeIndex)});g.swiperObject.on("slideChangeEnd",function(a){u(a.activeIndex)});var b=-1;if(0<a.options.nextButtonHtml.length){b++;var e=d.childNodes[1].childNodes[b];e.jsLightboxType="next";e.addEventListener("click",g.swiperObject.slideNext)}0<a.options.previousButtonHtml.length&&(b++,e=d.childNodes[1].childNodes[b],e.jsLightboxType="previous",e.addEventListener("click",
g.swiperObject.slidePrev));0<a.options.closeButtonHtml.length&&(b++,e=d.childNodes[1].childNodes[b],e.jsLightboxType="close",e.addEventListener("click",g.close));n();"undefined"!==typeof c&&0!==c?g.swiperObject.slideTo(c,0):(t(0),u(0))};4===h?f():(v(),function(a,b){if(a())b();else{var c=function(){a()?(window.clearTimeout(c),b()):window.setTimeout(c,16)};window.setTimeout(c,16)}}(function(){return 4===h},f))};this.close=function(){try{document.body.removeEventListener("keydown",r),window.removeEventListener("resize",
n)}catch(b){}var a=document.querySelector("#"+k);a&&a.parentNode.removeChild(a)}}}());