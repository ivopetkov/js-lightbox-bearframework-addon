/*
 * JS lightbox for Bear Framework
 * https://github.com/ivopetkov/js-lightbox-bearframework-addon
 * Copyright (c) 2016 Ivo Petkov
 * Free to use under the MIT license.
 */
var ivoPetkov=ivoPetkov||{};ivoPetkov.bearFrameworkAddons=ivoPetkov.bearFrameworkAddons||{};
ivoPetkov.bearFrameworkAddons.jsLightbox=function(){var l=0;return function(a){l++;var g="jslightbox"+l,e=this;a="undefined"===typeof a?{}:JSON.parse(JSON.stringify(a));"undefined"===typeof a.images&&(a.images=[]);"undefined"===typeof a.options&&(a.options={});var m={paddingTop:"1rem",paddingRight:"1rem",paddingBottom:"1rem",paddingLeft:"1rem",containerClassName:"",containerStyle:"background-color:rgba(0,0,0,0.8);",nextButtonHtml:'<span style="display:block;width:42px;height:42px;position:fixed;right:0;top:calc((100% - 42px)/2);cursor:pointer;background-size:contain;background-position:center center;background-repeat:no-repeat;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0OCIgaGVpZ2h0PSI3Ni44IiB2aWV3Qm94PSIwIDAgNDggNzYuNzk5OTk1Ij48ZGVmcz48ZmlsdGVyIGlkPSJhIiBjb2xvci1pbnRlcnBvbGF0aW9uLWZpbHRlcnM9InNSR0IiPjxmZUZsb29kIGZsb29kLW9wYWNpdHk9Ii45IiBmbG9vZC1jb2xvcj0iIzAwMCIgcmVzdWx0PSJmbG9vZCIvPjxmZUNvbXBvc2l0ZSBpbjI9IlNvdXJjZUdyYXBoaWMiIGluPSJmbG9vZCIgb3BlcmF0b3I9ImluIiByZXN1bHQ9ImNvbXBvc2l0ZTEiLz48ZmVHYXVzc2lhbkJsdXIgc3RkRGV2aWF0aW9uPSIyIiByZXN1bHQ9ImJsdXIiLz48ZmVPZmZzZXQgcmVzdWx0PSJvZmZzZXQiLz48ZmVDb21wb3NpdGUgaW4yPSJvZmZzZXQiIGluPSJTb3VyY2VHcmFwaGljIiByZXN1bHQ9ImNvbXBvc2l0ZTIiLz48L2ZpbHRlcj48L2RlZnM+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTTEyIDYuNGwtOCA4IDI0IDI0LTI0IDI0IDggOCAzMi0zMi0zMi0zMnoiIGZpbHRlcj0idXJsKCNhKSIvPjwvc3ZnPg==);"></span>',
previousButtonHtml:'<span style="display:block;width:42px;height:42px;position:fixed;left:0;top:calc((100% - 42px)/2);cursor:pointer;background-size:contain;background-position:center center;background-repeat:no-repeat;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0OCIgaGVpZ2h0PSI3Ni44IiB2aWV3Qm94PSIwIDAgNDggNzYuNzk5OTk1Ij48ZGVmcz48ZmlsdGVyIGlkPSJhIiBjb2xvci1pbnRlcnBvbGF0aW9uLWZpbHRlcnM9InNSR0IiPjxmZUZsb29kIGZsb29kLW9wYWNpdHk9Ii45IiBmbG9vZC1jb2xvcj0iIzAwMCIgcmVzdWx0PSJmbG9vZCIvPjxmZUNvbXBvc2l0ZSBpbjI9IlNvdXJjZUdyYXBoaWMiIGluPSJmbG9vZCIgb3BlcmF0b3I9ImluIiByZXN1bHQ9ImNvbXBvc2l0ZTEiLz48ZmVHYXVzc2lhbkJsdXIgc3RkRGV2aWF0aW9uPSIyIiByZXN1bHQ9ImJsdXIiLz48ZmVPZmZzZXQgcmVzdWx0PSJvZmZzZXQiLz48ZmVDb21wb3NpdGUgaW4yPSJvZmZzZXQiIGluPSJTb3VyY2VHcmFwaGljIiByZXN1bHQ9ImNvbXBvc2l0ZTIiLz48L2ZpbHRlcj48L2RlZnM+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTTEyIDYuNGwtOCA4IDI0IDI0LTI0IDI0IDggOCAzMi0zMi0zMi0zMnoiIHRyYW5zZm9ybT0ibWF0cml4KC0xIDAgMCAxIDQ4IDApIiBmaWx0ZXI9InVybCgjYSkiLz48L3N2Zz4=);"></span>',
closeButtonHtml:'<span style="display:block;width:42px;height:42px;position:fixed;right:0;top:0;cursor:pointer;background-size:50%;background-position:center center;background-repeat:no-repeat;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMi4yMjIiIGhlaWdodD0iMzIuMjI0IiB2aWV3Qm94PSIwIDAgMzIuMjIxNzc1IDMyLjIyMzcxNyI+PGRlZnM+PGZpbHRlciBpZD0iYSIgY29sb3ItaW50ZXJwb2xhdGlvbi1maWx0ZXJzPSJzUkdCIj48ZmVGbG9vZCBmbG9vZC1vcGFjaXR5PSIuOSIgZmxvb2QtY29sb3I9IiMwMDAiIHJlc3VsdD0iZmxvb2QiLz48ZmVDb21wb3NpdGUgaW4yPSJTb3VyY2VHcmFwaGljIiBpbj0iZmxvb2QiIG9wZXJhdG9yPSJpbiIgcmVzdWx0PSJjb21wb3NpdGUxIi8+PGZlR2F1c3NpYW5CbHVyIHN0ZERldmlhdGlvbj0iMiIgcmVzdWx0PSJibHVyIi8+PGZlT2Zmc2V0IHJlc3VsdD0ib2Zmc2V0Ii8+PGZlQ29tcG9zaXRlIGluMj0ib2Zmc2V0IiBpbj0iU291cmNlR3JhcGhpYyIgcmVzdWx0PSJjb21wb3NpdGUyIi8+PC9maWx0ZXI+PC9kZWZzPjxnIGZpbGw9IiNmZmYiIHRyYW5zZm9ybT0ibWF0cml4KC40NjEgMCAwIC40NjEgLTQuODEgMS40ODUpIiBmaWx0ZXI9InVybCgjYSkiPjxwYXRoIGQ9Ik0yMS40LS4yN2wtOCA4IDIzLjk4IDI0LTI0IDI0IDggOCAzMi0zMi0zMi0zMnoiLz48cGF0aCBkPSJNNjkuMzgtLjI3bDggOC0yNCAyNCAyNCAyNC04IDgtMzItMzIgMzItMzJ6Ii8+PC9nPjwvc3ZnPg==);"></span>'},
h;for(h in m)"undefined"===typeof a.options[h]&&(a.options[h]=m[h]);2>a.images.length&&(a.options.previousButtonHtml="",a.options.nextButtonHtml="");var n=function(a){27===a.keyCode&&e.close()},k=function(){var a=document.querySelector(".swiper-container-"+g);if(a)for(var a=a.firstChild.childNodes,b=a.length,c=0;c<b;c++){var d=a[c],e=window.getComputedStyle(d.firstChild),h=parseInt(e.width.replace("px",""),10),e=parseInt(e.height.replace("px",""),10);d.firstChild.firstChild.style.width=h+"px";d.firstChild.firstChild.style.height=
e+"px"}},p=function(f){var b=a.images[f];"undefined"!==typeof b.onBeforeShow&&0<b.onBeforeShow.length&&(new Function(b.onBeforeShow))();for(var b=document.querySelector("#"+g),b=b.childNodes[b.childNodes.length-1].childNodes,c=0;c<b.length;c++)"previous"===b[c].jsLightboxType?b[c].style.display=0===f?"none":"block":"next"===b[c].jsLightboxType&&(b[c].style.display=f===a.images.length-1?"none":"block")},q=function(f){f=a.images[f];"undefined"!==typeof f.onShow&&0<f.onShow.length&&(new Function(f.onShow))()};
this.open=function(f){var b='<div id="'+g+'" class="'+("js-lightbox-container "+a.options.containerClassName).trim()+'" style="position:fixed;z-index:10010000;top:0;left:0;width:100%;height:100%;'+a.options.containerStyle+'">',b=b+('<div class="swiper-container-'+g+'" style="width:100%;height:100%;">'),b=b+'<div class="swiper-wrapper">',c;for(c in a.images)var d=a.images[c],b=b+('<div class="swiper-slide" style="padding-top:'+a.options.paddingTop+";padding-right:"+a.options.paddingRight+";padding-bottom:"+
a.options.paddingBottom+";padding-left:"+a.options.paddingLeft+';box-sizing:border-box;">'),b=b+('<div style="width:100%;height:100%;overflow:hidden;"><div style="overflow:hidden;display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-align:center;-webkit-align-items:center;-webkit-box-align:center;align-items:center;-moz-justify-content:center;-webkit-justify-content:center;justify-content:center;">'+d.html+"</div></div>"),b=b+"</div>";b+='</div></div><div style="z-index:10010001;position:fixed;top:0;left:0;">';
0<a.options.nextButtonHtml.length&&(b+=a.options.nextButtonHtml);0<a.options.previousButtonHtml.length&&(b+=a.options.previousButtonHtml);0<a.options.closeButtonHtml.length&&(b+=a.options.closeButtonHtml);document.body.insertAdjacentHTML("beforeend",b+"</div></div>");b=document.querySelector("#"+g);e.swiperObject=new Swiper(".swiper-container-"+g,{direction:"horizontal",loop:!1,keyboardControl:!0,mousewheelControl:!0});e.swiperObject.on("slideChangeStart",function(a){p(a.activeIndex)});e.swiperObject.on("slideChangeEnd",
function(a){q(a.activeIndex)});c=-1;0<a.options.nextButtonHtml.length&&(c++,d=b.childNodes[1].childNodes[c],d.jsLightboxType="next",d.addEventListener("click",e.swiperObject.slideNext));0<a.options.previousButtonHtml.length&&(c++,d=b.childNodes[1].childNodes[c],d.jsLightboxType="previous",d.addEventListener("click",e.swiperObject.slidePrev));0<a.options.closeButtonHtml.length&&(c++,d=b.childNodes[1].childNodes[c],d.jsLightboxType="close",d.addEventListener("click",e.close));window.addEventListener("resize",
k);k();"undefined"!==typeof f&&0!==f?e.swiperObject.slideTo(f,0):(p(0),q(0));document.body.addEventListener("keydown",n)};this.close=function(){try{document.body.removeEventListener("keydown",n),window.removeEventListener("resize",k)}catch(b){}var a=document.querySelector("#"+g);a&&a.remove()}}}();