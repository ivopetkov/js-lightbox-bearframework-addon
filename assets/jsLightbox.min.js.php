<?php

/*
 * JS lightbox for Bear Framework
 * https://github.com/ivopetkov/js-lightbox-bearframework-addon
 * Copyright (c) Ivo Petkov
 * Free to use under the MIT license.
 */

return <<<'EOT'
var ivoPetkov=ivoPetkov||{};ivoPetkov.bearFrameworkAddons=ivoPetkov.bearFrameworkAddons||{};
ivoPetkov.bearFrameworkAddons.jsLightbox=ivoPetkov.bearFrameworkAddons.jsLightbox||function(){var a=null,p=null,m=null,n=null,g=0,t=function(c,b){g++;window.clearTimeout(p);"undefined"===typeof b&&(b={});var d="undefined"!==typeof b.spacing?b.spacing:"15px",h="undefined"!==typeof b.showCloseButton?b.showCloseButton:!0;null===a?(a=document.createElement("div"),a.setAttribute("class","ipjslghtbc"),a.innerHTML="<div><div><div></div></div></div>",a.innerHTML+='<a class="ipjslghtbx"><span>&#10010;</span></a>',
a.lastChild.addEventListener("click",k),document.body.appendChild(a),document.body.addEventListener("keydown",q),m=window.setTimeout(function(){a.setAttribute("class","ipjslghtbc ipjslghtbcv");m=null},16)):a.setAttribute("class","ipjslghtbc ipjslghtbcv");a.lastChild.style.display=h?"block":"none";var f=a.firstChild.firstChild.firstChild;return new Promise(function(e,r){'<span class="ipjslghtbcl"></span>'===c?0!==f.innerHTML.indexOf('<span class="ipjslghtbcl')&&(f.style.padding=d,f.innerHTML=c,n=window.setTimeout(function(){var l=
document.querySelector(".ipjslghtbcl");null!==l&&l.setAttribute("class","ipjslghtbcl ipjslghtbclv")},1E3)):function(l){clientPackages.get("-ivopetkov-js-lightbox-html5domdocument").then(function(u){l===g?(window.clearTimeout(n),f.style.padding=d,u.insert(c,[f]),e()):r()})["catch"](function(){r()})}(g)})},k=function(){g++;window.clearTimeout(m);window.clearTimeout(n);null!==a&&(a.setAttribute("class","ipjslghtbc"),p=window.setTimeout(function(){try{document.body.removeEventListener("keydown",q)}catch(c){}a.parentNode.removeChild(a);
a=null},300))},q=function(c){27===c.keyCode&&k()};Promise=window.Promise||function(c){var b=[],d=null;this.then=function(e){b.push(e);return this};this["catch"]=function(e){null===d&&(d=e);return this};var h=function(){for(var e in b)b[e].apply(null,arguments)},f=function(){null!==d&&d.apply(null,arguments)};window.setTimeout(function(){c(h,f)},16)};return{make:function(c){t('<span class="ipjslghtbcl"></span>',c);return function(b){return{open:function(d,h){return b===g?t(d,h):new Promise(function(f,
e){e()})},close:function(){b===g&&k()}}}(g)},close:k}}();
EOT;
