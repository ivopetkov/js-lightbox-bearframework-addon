<?php

/*
 * JS lightbox for Bear Framework
 * https://github.com/ivopetkov/js-lightbox-bearframework-addon
 * Copyright (c) Ivo Petkov
 * Free to use under the MIT license.
 */

return <<<'EOT'
var ivoPetkov=ivoPetkov||{};ivoPetkov.bearFrameworkAddons=ivoPetkov.bearFrameworkAddons||{},ivoPetkov.bearFrameworkAddons.jsLightbox=ivoPetkov.bearFrameworkAddons.jsLightbox||function(){var t=null,n=null,e=null,i=null,o=0,l=function(l,r){window.clearTimeout(n),void 0===r&&(r={});var u=void 0!==r.spacing?r.spacing:"15px",a=void 0===r.showCloseButton||r.showCloseButton;null===t?((t=document.createElement("div")).setAttribute("class","ipjslghtbc"),t.innerHTML="<div><div><div></div></div></div>",t.innerHTML+='<a class="ipjslghtbx" role="button" tabindex="0" aria-label="Close this window" title="Close this window"><span>&#10010;</span></a>',t.lastChild.addEventListener("click",s),document.body.appendChild(t),document.body.addEventListener("keydown",c),e=window.setTimeout((function(){t.setAttribute("class","ipjslghtbc ipjslghtbcv"),e=null}),16)):t.setAttribute("class","ipjslghtbc ipjslghtbcv"),t.lastChild.style.display=a?"block":"none";var d=t.firstChild.firstChild.firstChild;return new Promise((function(t,n){if('<span class="ipjslghtbcl"></span>'===l)null===d.querySelector(".ipjslghtbcl")&&(d.style.padding=u,d.innerHTML=l,i=window.setTimeout((function(){var t=document.querySelector(".ipjslghtbcl");null!==t&&t.setAttribute("class","ipjslghtbcl ipjslghtbclv")}),1e3));else{var e=function(){var e;e=o,clientPackages.get("-ivopetkov-js-lightbox-html5domdocument").then((function(s){e===o?(window.clearTimeout(i),d.style.padding=u,s.insert(l,[d]),t()):n()})).catch((function(){n()}))},s=d.querySelector(".ipjslghtbcl");null===s?e():(s.setAttribute("class","ipjslghtbcl"),window.setTimeout(e,300))}}))},s=function(){window.clearTimeout(e),window.clearTimeout(i),null!==t&&(t.setAttribute("class","ipjslghtbc"),n=window.setTimeout((function(){try{document.body.removeEventListener("keydown",c)}catch(t){}t.parentNode.removeChild(t),t=null}),300))},c=function(t){27===t.keyCode&&s()};return Promise=window.Promise||function(t){var n=[],e=null;this.then=function(t){return n.push(t),this},this.catch=function(t){return null===e&&(e=t),this};var i=function(){for(var t in n)n[t].apply(null,arguments)},o=function(){null!==e&&e.apply(null,arguments)};window.setTimeout((function(){t(i,o)}),16)},{make:function(t){return o++,l('<span class="ipjslghtbcl"></span>',t),n=o,{open:function(t,e){return n===o?l(t,e):new Promise((function(t,n){n()}))},close:function(){n===o&&s()}};var n},close:s}}();
EOT;
